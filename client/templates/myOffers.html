{% extends "layout.html" %}


{% block title %}
    <h1>My Offers</h1>
{% endblock %}

{% block content %}

{% if user %}
    <div>
        <h2> <a href="/offer"> Create an Offer !</a></h2>

        <h2> Offers ({{offers.offers|length }}) :</h2>
        {% if offers.offers|length > 0 %}
        <ul>
            {% for offer in offers.offers %}
                        Débug : {{ offer }}

            <li>
                {% if offer.projectTitle %}
                <h3>{{ offer.projectTitle }}</h3>
                {% endif %}
                <p>Domaine d'activité : {{ offer.fieldActivity }} </p>
                <p>Lieu : {{ offer.place }} </p>
                <p>Liens :<br/>
                    <ul>
                    {% for network in offer.networking %}
                    <li>{{ network["network"] }} : <a href=http://{{ network["url"] }}> {{ network['url'] }}</a></li>
                    {% endfor %}
                    </ul>
                </p>
                <p>Projet pour une durée du {{ offer.projectDate["begin"] }} au {{ offer.projectDate["end"] }}</p>
                <p>Contact :  <br/><i class="fa fa-user"></i> {{ offer.contact["name"] }} <br/><i class="fa fa-phone"></i> {{ offer.contact["phone"] }}  <br/><i class="fa fa-envelope"></i> {{ offer.contact["mail"] }}</p>

                <br/>
                {% if offer.offerTitle %}
                <h3>{{ offer.offerTitle }}</h3>
                {% endif %}

                {% if offer.offerDate %}
                <p>Offre visible du {{ offer.offerDate["begin"] }} au {{ offer.offerDate["end"] }}</p>
                {% endif %}

                {% if offer.wantedProfiles %}
                <p>
                    Type de profil : {{ offer.wantedProfiles }} 
                </p>
                {% endif %}

                {% if offer.text %}
                <p>Texte : {{ offer.text }} </p>
                {% endif %}
            </li>

            <button id="deleteOffer" data-offerId="{{ offer.offerId }}" value="Delete">Delete</button>
            <button id="completeOffer" data-offerId="{{ offer.offerId }}" value="Edit">Edit</button>
            <hr />
            {% endfor %}
        </ul>
        {% endif %}

    </div>
{% else %}
<p> You must be logged to see this page ! </p>
{% endif %}

{% endblock %}

